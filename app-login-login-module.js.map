{"version":3,"sources":["./src/app/login/login.component.html","./src/app/login/login-routing.module.ts","./src/app/login/login.component.css","./src/app/login/login.component.ts","./src/app/login/login.module.ts"],"names":[],"mappings":"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","file":"app-login-login-module.js","sourcesContent":["export default \"<div class=\\\"container\\\" style=\\\"padding: 2em 0; min-height: 90vh;\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col s12 m8 l6 offset-m2 offset-l3\\\">\\n\\n            <h5 class=\\\"orange-text center\\\">Please, login into your account</h5>\\n            <div class=\\\"z-depth-1 grey lighten-4 row\\\" style=\\\"padding: 2em; border: 1px solid #EEE;\\\">\\n\\n                <form class=\\\"col s12\\\" [formGroup]=\\\"loginFormGroup\\\" (submit)=\\\"login()\\\">\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"input-field col s12\\\">\\n                            <i class=\\\"material-icons prefix\\\">email</i>\\n                            <input name=\\\"email\\\" id=\\\"email\\\" type=\\\"email\\\" formControlName=\\\"email\\\" required>\\n                            <label for=\\\"email\\\">Email Address</label>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"input-field col s12\\\">\\n                            <i class=\\\"material-icons prefix\\\">lock</i>\\n                            <input type=\\\"password\\\" name=\\\"password\\\" id=\\\"password\\\" formControlName=\\\"password\\\" required>\\n                            <label for=\\\"password\\\">Enter your password</label>\\n                        </div>\\n\\n                        <p *ngIf=\\\"formErrors.email\\\" class=\\\"red-text\\\">\\n                            {{ formErrors.email }}\\n                        </p>\\n\\n                        <p *ngIf=\\\"formErrors.password\\\" class=\\\"red-text\\\">\\n                            {{ formErrors.password }}\\n                        </p>\\n\\n                        <p *ngFor=\\\"let error of apiErrors\\\" class=\\\"red-text\\\">\\n                            {{ error }}\\n                        </p>\\n\\n                        <label style=\\\"float: right;\\\">\\n                            <a class=\\\"pink-text\\\"><b>Forgot Password?</b></a>\\n                        </label>\\n                    </div>\\n\\n                    <br/>\\n                    <div class=\\\"row\\\">\\n                        <button type=\\\"submit\\\" name=\\\"btn_login\\\" class=\\\"col s12 btn btn-large waves-effect\\\"\\n                                style=\\\"background: #FF6F39;\\\">Login\\n                        </button>\\n                    </div>\\n                </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {LoginComponent} from './login.component';\n\nconst loginRoutes: Routes = [\n    {\n        path: '',\n        component: LoginComponent\n    },\n];\n\n@NgModule({\n    imports: [\n        RouterModule.forChild(loginRoutes)\n    ],\n    exports: [\n        RouterModule\n    ],\n    providers: [ ]\n})\n\nexport class LoginRoutingModule {}\n","export default \"\\n\\n.input-field .prefix {\\n    top: 13px;\\n}\\n\\n/* label color */\\n\\n.input-field label {\\n    color: #000;\\n}\\n\\n/* label focus color */\\n\\n.input-field input:focus + label,\\n.input-field textarea:focus + label {\\n    color: #FF6F39;\\n}\\n\\n/* label underline focus color */\\n\\n.input-field input,\\n.input-field textarea {\\n    border-bottom: 2px solid #FF6F39;\\n    box-shadow: none;\\n}\\n\\n/* label underline focus color */\\n\\n.input-field input:focus,\\n.input-field textarea:focus {\\n    border-bottom: 2px solid #FF6F39;\\n    box-shadow: none;\\n}\\n\\n/* valid color */\\n\\n.input-field input.valid {\\n    border-bottom: 2px solid #FF6F39;\\n    box-shadow: none;\\n}\\n\\n/* invalid color */\\n\\n.input-field input.invalid {\\n    border-bottom: 2px solid #FF6F39;\\n    box-shadow: none;\\n}\\n\\n/* icon prefix focus color */\\n\\n.input-field .prefix.active {\\n    color: #000;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBO0lBQ0ksU0FBUztBQUNiOztBQUVBLGdCQUFnQjs7QUFDaEI7SUFDSSxXQUFXO0FBQ2Y7O0FBQ0Esc0JBQXNCOztBQUN0Qjs7SUFFSSxjQUFjO0FBQ2xCOztBQUNBLGdDQUFnQzs7QUFDaEM7O0lBRUksZ0NBQWdDO0lBQ2hDLGdCQUFnQjtBQUNwQjs7QUFDQSxnQ0FBZ0M7O0FBQ2hDOztJQUVJLGdDQUFnQztJQUNoQyxnQkFBZ0I7QUFDcEI7O0FBQ0EsZ0JBQWdCOztBQUNoQjtJQUNJLGdDQUFnQztJQUNoQyxnQkFBZ0I7QUFDcEI7O0FBQ0Esa0JBQWtCOztBQUNsQjtJQUNJLGdDQUFnQztJQUNoQyxnQkFBZ0I7QUFDcEI7O0FBQ0EsNEJBQTRCOztBQUM1QjtJQUNJLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLmlucHV0LWZpZWxkIC5wcmVmaXgge1xuICAgIHRvcDogMTNweDtcbn1cblxuLyogbGFiZWwgY29sb3IgKi9cbi5pbnB1dC1maWVsZCBsYWJlbCB7XG4gICAgY29sb3I6ICMwMDA7XG59XG4vKiBsYWJlbCBmb2N1cyBjb2xvciAqL1xuLmlucHV0LWZpZWxkIGlucHV0OmZvY3VzICsgbGFiZWwsXG4uaW5wdXQtZmllbGQgdGV4dGFyZWE6Zm9jdXMgKyBsYWJlbCB7XG4gICAgY29sb3I6ICNGRjZGMzk7XG59XG4vKiBsYWJlbCB1bmRlcmxpbmUgZm9jdXMgY29sb3IgKi9cbi5pbnB1dC1maWVsZCBpbnB1dCxcbi5pbnB1dC1maWVsZCB0ZXh0YXJlYSB7XG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNGRjZGMzk7XG4gICAgYm94LXNoYWRvdzogbm9uZTtcbn1cbi8qIGxhYmVsIHVuZGVybGluZSBmb2N1cyBjb2xvciAqL1xuLmlucHV0LWZpZWxkIGlucHV0OmZvY3VzLFxuLmlucHV0LWZpZWxkIHRleHRhcmVhOmZvY3VzIHtcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgI0ZGNkYzOTtcbiAgICBib3gtc2hhZG93OiBub25lO1xufVxuLyogdmFsaWQgY29sb3IgKi9cbi5pbnB1dC1maWVsZCBpbnB1dC52YWxpZCB7XG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNGRjZGMzk7XG4gICAgYm94LXNoYWRvdzogbm9uZTtcbn1cbi8qIGludmFsaWQgY29sb3IgKi9cbi5pbnB1dC1maWVsZCBpbnB1dC5pbnZhbGlkIHtcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgI0ZGNkYzOTtcbiAgICBib3gtc2hhZG93OiBub25lO1xufVxuLyogaWNvbiBwcmVmaXggZm9jdXMgY29sb3IgKi9cbi5pbnB1dC1maWVsZCAucHJlZml4LmFjdGl2ZSB7XG4gICAgY29sb3I6ICMwMDA7XG59XG4iXX0= */\";","import {Component, OnInit} from '@angular/core';\nimport {AuthService} from '../services/auth.service';\nimport {Router} from '@angular/router';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\n\n@Component({\n    selector: 'app-home',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n    private loginForm = {\n        email: undefined,\n        password: undefined\n    };\n    private isValid = false;\n    loginFormGroup: FormGroup;\n    public apiErrors: Array<string> = [];\n    formErrors = {\n        'email': '',\n        'password': ''\n    };\n    validationMessages = {\n        'email': {'required': 'Email is required.'},\n        'password': {'required': 'Password is required.'}\n    };\n\n    constructor(private _authService: AuthService, private router: Router,\n                private fb: FormBuilder) {\n        if (this._authService.isLoggedIn) {\n            this._authService.logout();\n        }\n    }\n\n    ngOnInit() {\n        this.buildForm();\n    }\n\n    buildForm(): void {\n        this.loginFormGroup = this.fb.group({\n            'email': [this.loginForm.email, [Validators.required]],\n            'password': [this.loginForm.password, [Validators.required]]\n        });\n\n        this.loginFormGroup.valueChanges\n            .subscribe(data => this.onValueChanged(data));\n\n        this.onValueChanged(); // (re)set validation messages now\n    }\n\n    onValueChanged(data?: any) {\n        if (!this.loginFormGroup) {\n            return;\n        }\n\n        Object.keys(this.formErrors).forEach((field) => {\n            // clear previous error message (if any)\n            this.formErrors[field] = '';\n            const control = this.loginFormGroup.get(field);\n\n            this.isValid = this.isValid || control.dirty;\n\n            if (control && control.dirty && !control.valid) {\n                const messages = this.validationMessages[field];\n                Object.keys(control.errors).forEach((key) => {\n                    this.formErrors[field] += messages[key] + ' ';\n                });\n            } else {\n                this.loginForm[field] = control.value;\n            }\n        });\n    }\n\n    login(): void {\n        this.apiErrors = [];\n        if (!this.isValid) {\n            return;\n        }\n        this._authService.login(this.loginForm)\n            .then((result) => {\n                const redirect = this._authService.redirectUrl ? this._authService.redirectUrl : '/home';\n\n                this.router.navigate([redirect]);\n            })\n            .catch((err) => {\n                let resJson = err;\n\n                if (resJson.error) {\n                    this.apiErrors.push(resJson.error);\n                }\n            });\n    }\n}\n","import {NgModule} from '@angular/core';\nimport {LoginComponent} from './login.component';\nimport {LoginRoutingModule} from './login-routing.module';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\n@NgModule({\n    declarations: [\n        LoginComponent\n    ],\n    imports: [\n        CommonModule,\n        ReactiveFormsModule,\n        FormsModule,\n        LoginRoutingModule\n    ],\n    providers: [ ],\n    bootstrap: [LoginComponent]\n})\nexport class LoginModule {\n}\n"],"sourceRoot":"webpack:///"}